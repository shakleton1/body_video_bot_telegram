# Telegram Rehab Bot

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

- `main.py` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞.
- `requirements.txt` ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
- `bot/`
  - `config.py` ‚Äî —á—Ç–µ–Ω–∏–µ `.env`, –ø—É—Ç–∏ –∫ –¥–∞–Ω–Ω—ã–º.
  - `keyboards.py` ‚Äî inline-–∫–Ω–æ–ø–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∞–¥–º–∏–Ω–∫–∏.
  - `handlers/`
    - `user.py` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –º–µ–Ω—é (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ –∑–æ–Ω/—Ä–µ–∂–∏–º–æ–≤).
    - `admin.py` ‚Äî –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è –≤–∏–¥–µ–æ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–µ–Ω—é.
  - `services/`
    - `menu_repository.py` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ `data/menu.json`, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ID.
    - `storage.py` ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ `file_id` –≤ `data/videos.json`, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –º–µ–Ω—é.
- `data/menu.json` ‚Äî —Ç–µ–∫—É—â–µ–µ –¥–µ—Ä–µ–≤–æ —Ä–∞–∑–¥–µ–ª–æ–≤ –∏ —Ä–µ–∂–∏–º–æ–≤ (ID + –Ω–∞–∑–≤–∞–Ω–∏—è).
- `data/videos.json` ‚Äî —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª/—Ä–µ–∂–∏–º ‚Üí `file_id` –∏–ª–∏ –ø—É—Ç—å/URL.

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
python -m venv .venv
.venv\Scripts\activate  # Windows
pip install -r requirements.txt
```

–°–æ–∑–¥–∞–π—Ç–µ `.env`:

```
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
ADMIN_IDS=123456789,987654321
```

- `BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω Telegram.
- `ADMIN_IDS` ‚Äî —Å–ø–∏—Å–æ–∫ ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é.

## –ó–∞–ø—É—Å–∫

```bash
.venv\Scripts\activate
python main.py
```

–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ long polling, –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –æ—á–∏—â–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å –∞–ø–¥–µ–π—Ç–æ–≤.

## –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (`/admin`)

–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∞–¥–º–∏–Ω–∞:

1. **üéû –í–∏–¥–µ–æ** ‚Äî –≤—ã–±–æ—Ä —Ä–∞–∑–¥–µ–ª–∞ –∏ —Ä–µ–∂–∏–º–∞ —Å —Ç–µ–∫—É—â–∏–º `file_id`.
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–æ–≤–æ–µ –≤–∏–¥–µ–æ, —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å `file_id`.
   - –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å, –±–æ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç —Ñ–∞–π–ª –∏ –∑–∞–ø–æ–º–Ω–∏—Ç –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã–π Telegram `file_id`.
2. **üóÇ –ú–µ–Ω—é** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –º–µ–Ω—é.
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–æ–≤.
   - –†–∞–±–æ—Ç–∞ —Å —Ä–µ–∂–∏–º–∞–º–∏ –≤–Ω—É—Ç—Ä–∏ —Ä–∞–∑–¥–µ–ª–∞ (—Å–æ–∑–¥–∞–Ω–∏–µ, –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ).
   - –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `data/menu.json`, –∞ `data/videos.json` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è.

–ö–æ–º–∞–Ω–¥–∞ `/cancel` –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π –Ω–∞—Å—Ç—Ä–æ–µ–∫.

## –í–∏–¥–µ–æ –∏ —Ñ–∞–π–ª—ã

- –í `data/videos.json` –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è `file_id`, HTTP(S)-—Å—Å—ã–ª–∫–∏ –∏–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏.
- –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –±–æ—Ç –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –Ω–æ–≤—ã–π `file_id`, —á—Ç–æ–±—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ.
